<!DOCTYPE html><html lang=""><head><title>Title Page</title><meta charset="UTF-8"><meta name="description" content=""><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link href="//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet" media="screen"></head><body><h1 class="text-center">Hello World</h1><div class="container"><div class="row"><form action="api/upload.php" method="post" enctype="multipart/form-data" id="fileUploadForm"><input type="file" name="java_class" id="java_class" style="display: none;" class="form-control"><p class="clearfix"></p><input type="submit" value="Upload Image" name="submit" id="fileUploadBtn" class="btn btn-primary"></form></div></div><script src="//code.jquery.com/jquery.js"></script><script src="//netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script><script type="text/javascript">
    (function(){

        // Trigger file upload
        $('#fileUploadBtn').click(function(e){
            e.preventDefault();
            $('#java_class').trigger('click');
        });

        // On file change, submit the form
        $('#java_class').change(function(e){
            $('#fileUploadForm').trigger('submit');
        });

        // On form submit, use ajax
        $('#fileUploadForm').submit(function(e){
            e.preventDefault();
            console.log($('#fileUploadForm'));
            console.log(this);

            $.ajax({
                url: 'api/upload.php',
                dataType: 'json',
                type: 'POST',
                data: new FormData(this),
                processData: false,
                contentType: false,
                cache: false
            }).done(function(data){
                console.log(data);
            });
            console.log('submit');
        });
    })();
</script></body></html>